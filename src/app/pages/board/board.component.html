<app-nav></app-nav>
<main class="flex flex-col min-h-screen">
  <section class="w-full grow bg-sky-600 px-4 pb-4 flex flex-col h-full">
    <h2 class="text-xl font-bold text-white my-4">Demo Board</h2>
    <section
      class="flex grow items-start w-full h-full min-h-[20rem] overflow-x-scroll"
      cdkDropListGroup
    >
      <article
        *ngFor="let column of columns"
        class="rounded bg-gray-200 w-72 p-2 mr-3 shrink-0"
      >
        <h3 class="py-1 px-1">{{ column.title }}</h3>
        <ul
          class="text-sm mt-2 min-h-[2.5rem]"
          cdkDropList
          (cdkDropListDropped)="dropTodo($event)"
          [cdkDropListData]="column.todos"
        >
          <li
            *ngFor="let todo of column.todos"
            class="bg-white shadow p-2 rounded mt-2 border-b border-x-gray-300 cursor-pointer hover:bg-gray-400"
            cdkDrag
            (click)="openTodoModal(column.title, todo)"
          >
            {{ todo.title }}
          </li>
        </ul>
      </article>
      <button class="shrink-0" (click)="addColumn()">Add Column</button>
    </section>
  </section>
</main>
